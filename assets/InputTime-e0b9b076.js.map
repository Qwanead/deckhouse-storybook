{"version":3,"file":"InputTime-e0b9b076.js","sources":["../../src/shared/ui_kit/form/InputText/InputTime.vue"],"sourcesContent":["<template>\n  <InputTextConfirm\n    :updateValueKey=\"key\"\n    v-bind=\"props\"\n    :modelValue=\"currentValue\"\n    @update:modelValue=\"onInput\"\n    @updateCurrentValue=\"onUpdateCurrentValue\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { bool, string } from \"vue-types\";\nimport InputTextConfirm from \"@/shared/ui_kit/form/InputText/InputTextConfirm.vue\";\nimport { ref, watchEffect } from \"vue\";\n\nconst props = defineProps({\n  placeholder: string().def(\"00:00\"),\n  modelValue: string().def(\"\"),\n  disabled: bool().def(false),\n  error: string(),\n  required: bool().def(false),\n  label: string().def(\"\"),\n});\n\nconst emit = defineEmits<{\n  (event: \"update:modelValue\", value: typeof props.modelValue): void;\n}>();\n\nconst currentValue = ref(\"\");\nwatchEffect(() => (currentValue.value = props.modelValue));\n\nconst key = ref(0);\n\nconst onUpdateCurrentValue = (value: typeof props.modelValue) => {\n  const pattern = /^[0-2](?:\\d(?::(?:[0-5](?:\\d(?:\\s?)??)?)?)?)?$/; // HH:mm mask\n  const isHoursValid = value.length >= 2 ? Number(value.slice(0, 2)) <= 23 : true;\n  if ((pattern.test(value) && isHoursValid) || value === \"\") {\n    currentValue.value = value;\n    if (value.length === 2) {\n      currentValue.value = `${currentValue.value}:`;\n    }\n  } else {\n    key.value += 1;\n  }\n};\n\nconst onInput = (value: typeof props.modelValue) => {\n  currentValue.value = value.trim();\n  emit(\"update:modelValue\", currentValue.value);\n};\n</script>\n"],"names":["currentValue","ref","watchEffect","props","key","onUpdateCurrentValue","value","pattern","isHoursValid","onInput","emit"],"mappings":"0ZA4BMA,EAAeC,EAAI,EAAE,EAC3BC,EAAY,IAAOF,EAAa,MAAQG,EAAM,UAAW,EAEnD,MAAAC,EAAMH,EAAI,CAAC,EAEXI,EAAwBC,GAAmC,CAC/D,MAAMC,EAAU,iDACVC,EAAeF,EAAM,QAAU,EAAI,OAAOA,EAAM,MAAM,EAAG,CAAC,CAAC,GAAK,GAAK,GACtEC,EAAQ,KAAKD,CAAK,GAAKE,GAAiBF,IAAU,IACrDN,EAAa,MAAQM,EACjBA,EAAM,SAAW,IACNN,EAAA,MAAQ,GAAGA,EAAa,WAGvCI,EAAI,OAAS,CACf,EAGIK,EAAWH,GAAmC,CACrCN,EAAA,MAAQM,EAAM,OACtBI,EAAA,oBAAqBV,EAAa,KAAK,CAAA"}