{"version":3,"file":"InputNumber-eef72641.js","sources":["../../src/shared/ui_kit/form/InputText/InputNumber.vue"],"sourcesContent":["<template>\n  <InputTextConfirm\n    :updateValueKey=\"key\"\n    v-bind=\"props\"\n    :modelValue=\"currentValue\"\n    @update:modelValue=\"onInput\"\n    @updateCurrentValue=\"onUpdateCurrentValue\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { bool, number, string } from \"vue-types\";\nimport InputTextConfirm from \"@/shared/ui_kit/form/InputText/InputTextConfirm.vue\";\nimport { ref, watchEffect } from \"vue\";\nimport { isInteger, isNumberInRange } from \"@/shared/ui_kit/utils\";\n\nconst props = defineProps({\n  placeholder: string().def(\"\"),\n  modelValue: string().def(\"\"),\n  disabled: bool().def(false),\n  error: string(),\n  required: bool().def(false),\n  label: string().def(\"\"),\n  max: number(),\n  min: number(),\n});\n\nconst emit = defineEmits<{\n  (event: \"update:modelValue\", value: typeof props.modelValue): void;\n}>();\n\nconst currentValue = ref(\"\");\nwatchEffect(() => (currentValue.value = props.modelValue));\n\nconst key = ref(0);\n\nconst onUpdateCurrentValue = (value: typeof props.modelValue) => {\n  if ((isInteger(value) && isNumberInRange(value, props.min, props.max)) || value === \"\") {\n    currentValue.value = value;\n  } else {\n    key.value += 1;\n  }\n};\n\nconst onInput = (value: typeof props.modelValue) => {\n  currentValue.value = value.trim();\n  if (currentValue.value[currentValue.value.length - 1] === \".\") {\n    currentValue.value = currentValue.value.slice(0, currentValue.value.length - 1);\n  }\n  emit(\"update:modelValue\", currentValue.value);\n};\n</script>\n"],"names":["currentValue","ref","watchEffect","props","key","onUpdateCurrentValue","value","isInteger","isNumberInRange","onInput","emit"],"mappings":"6dA+BMA,EAAeC,EAAI,EAAE,EAC3BC,EAAY,IAAOF,EAAa,MAAQG,EAAM,UAAW,EAEnD,MAAAC,EAAMH,EAAI,CAAC,EAEXI,EAAwBC,GAAmC,CAC1DC,EAAUD,CAAK,GAAKE,EAAgBF,EAAOH,EAAM,IAAKA,EAAM,GAAG,GAAMG,IAAU,GAClFN,EAAa,MAAQM,EAErBF,EAAI,OAAS,CACf,EAGIK,EAAWH,GAAmC,CACrCN,EAAA,MAAQM,EAAM,OACvBN,EAAa,MAAMA,EAAa,MAAM,OAAS,CAAC,IAAM,MAC3CA,EAAA,MAAQA,EAAa,MAAM,MAAM,EAAGA,EAAa,MAAM,OAAS,CAAC,GAE3EU,EAAA,oBAAqBV,EAAa,KAAK,CAAA"}