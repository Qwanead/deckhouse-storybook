import{o as P,k as L,d as H,I as S,a as V,r as E,c as g,e as U,m as o,l as w,u as e,z as s,t as c,G as h,Y as G,Z as q,U as z}from"./vue.esm-bundler-c22c51b1.js";import{R as W}from"./ReleaseInfo-db81f8a3.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import{F as m}from"./FromBlockTitle-bd2f7d29.js";import{F as d}from"./FormBlock-83c4df11.js";import{I as _}from"./InputRadioButton-ecf14902.js";import{I as Y}from"./InputTimeWindow-3ccd7e1a.js";import{_ as T}from"./InputNumber-eef72641.js";import{I as y}from"./InputTextConfirm-c0059b46.js";import{_ as Z}from"./InputPassword-003ece89.js";import{u as j}from"./vue-i18n.esm-bundler-ace93cd9.js";import{C as J}from"./CardBlock-473d9ef6.js";import{P as K}from"./PageLayout-2a508c04.js";import{T as Q}from"./TabsBlock-b2fc9f9b.js";import"./ParamsBlock-030746a5.js";import"./vue-types.modern-24ec03a8.js";import"./IconBase-64cd1ae6.js";import"./PlaceholderContent-c4af05a1.js";import"./skeleton.esm-7cb94a1a.js";import"./ParamsItem-b5dbda71.js";import"./InputToggle-652170f9.js";import"./FormApiPath-e44bb38a.js";import"./RadioButtonBase-94fe6765.js";import"./utils-f563949e.js";import"./ButtonBase-8f35181a.js";import"./InputSelectButton-6adddfcd.js";import"./InputTime-e0b9b076.js";import"./InputTextBase-963889aa.js";import"./InputErrorTooltip-41202258.js";import"./TabsItem-1d96b3ff.js";const $={},X={class:"from-grid"};function ee(p,n){return P(),L("div",X,[H(p.$slots,"default",{},void 0,!0)])}const oe=N($,[["render",ee],["__scopeId","data-v-12fa1433"]]);$.__docgenInfo={displayName:"FormGrid",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/Users/user/deckhouse-ui/images/frontend/src/shared/ui_kit/form/FormGrid.vue"]};const x=p=>(G("data-v-9569970f"),p=p(),q(),p),te={class:"release-form__wrapper"},ae={class:"release-form__period"},re=x(()=>w("span",{class:"ty-forms-text release-form__period-text release-form__period-text--hours"},"часов",-1)),le=x(()=>w("span",{class:"ty-forms-text release-form__period-text"},"минут",-1)),M=S({__name:"Form",setup(p){const{t:n}=j(),i=V(!0),l=V(""),t=E({releaseChannelOn:!0,releaseChannel:"Beta",update:{mode:"Auto",disruptionApprovalMode:"Manual",windows:[{days:["Fri","Sat","Sun"],from:"02:00",to:"08:00"}],notification:{enabled:!0,minimalNotificationTime:{hours:"9",mins:"14"},webhook:"",auth:{type:"",username:"user",password:""},tlsSkipVerify:""}}}),k=g(()=>t.update.mode==="Manual"),C=g(()=>[{name:n("releases.channel_alpha"),value:"Alpha"},{name:n("releases.channel_beta"),value:"Beta"},{name:n("releases.channel_earlyaccess"),value:"EarlyAccess"},{name:n("releases.channel_stable"),value:"Stable"},{name:n("releases.channel_rocksolid"),value:"RockSolid"},{name:n("releases.channel_none"),value:void 0}]),B=g(()=>[{name:n("releases.update_mode_manual"),value:"Manual"},{name:n("releases.update_mode_auto"),value:"Auto"},{name:n("releases.update_mode_default"),value:void 0}]),R=[{name:"Ручной",value:"Manual"},{name:"Авто",value:"Auto"},{name:"По умолчанию",value:void 0}],D=[{name:"Нет",value:"none"},{name:"Http-auth",value:"basic"},{name:"Bearer-токен",value:"token"}],O=[{name:"Да",value:!0},{name:"Нет",value:!1},{name:"По умолчанию",value:void 0}],f=()=>{console.log("showDoc")};return(u,a)=>(P(),U(J,{class:"release-form"},{content:o(()=>[w("form",te,[e(m,{toggle:"",level:"2",modelValue:t.releaseChannelOn,"onUpdate:modelValue":a[0]||(a[0]=r=>t.releaseChannelOn=r)},{default:o(()=>[s("Обновления")]),_:1},8,["modelValue"]),e(oe,null,{default:o(()=>[e(d,{class:"from-grid__full-row",error:l.value},{title:o(()=>[e(m,{docIcon:"",showApiPath:i.value,apiPathText:"spec.settings.update.mode",error:l.value,onShowDoc:f},{default:o(()=>[s(c(u.$t("releases.releaseChannel.title")),1)]),_:1},8,["showApiPath","error"])]),content:o(()=>[e(_,{options:h(C),modelValue:t.releaseChannel,"onUpdate:modelValue":a[1]||(a[1]=r=>t.releaseChannel=r)},null,8,["options","modelValue"])]),_:1},8,["error"]),e(d,{error:l.value,comment:u.$t(`releases.mode.help${h(k)?"_manual":""}`)},{title:o(()=>[e(m,{docIcon:"",showApiPath:i.value,apiPathText:"spec.settings.update.mode",error:l.value,onShowDoc:f},{default:o(()=>[s(c(u.$t("releases.mode.title")),1)]),_:1},8,["showApiPath","error"])]),content:o(()=>[e(_,{options:h(B),modelValue:t.update.mode,"onUpdate:modelValue":a[2]||(a[2]=r=>t.update.mode=r)},null,8,["options","modelValue"])]),_:1},8,["error","comment"]),e(d,{class:"from-grid__new-line",error:l.value,comment:u.$t("releases.disruptionApprovalMode.help")},{title:o(()=>[e(m,{docIcon:"",showApiPath:i.value,apiPathText:"spec.settings.disruptionApprovalMode",error:l.value,onShowDoc:f},{default:o(()=>[s(c(u.$t("releases.disruptionApprovalMode.title")),1)]),_:1},8,["showApiPath","error"])]),content:o(()=>[e(_,{options:R,modelValue:t.update.disruptionApprovalMode,"onUpdate:modelValue":a[3]||(a[3]=r=>t.update.disruptionApprovalMode=r)},null,8,["modelValue"])]),_:1},8,["error","comment"]),e(d,{class:"from-grid__full-row",error:l.value},{title:o(()=>[e(m,{docIcon:"",showApiPath:i.value,apiPathText:"spec.settings.update.windows",error:l.value,onShowDoc:f},{default:o(()=>[s(c(h(n)("releases.windows.title")),1)]),_:1},8,["showApiPath","error"])]),content:o(()=>[e(Y,{modelValue:t.update.windows,"onUpdate:modelValue":a[4]||(a[4]=r=>t.update.windows=r)},null,8,["modelValue"])]),_:1},8,["error"]),e(d,{class:"from-grid__full-row",error:l.value,comment:u.$t("releases.notification.help")},{title:o(()=>[e(m,{docIcon:"",showApiPath:i.value,apiPathText:"spec.settings.update.notification",toggle:"",modelValue:t.update.notification.enabled,"onUpdate:modelValue":a[5]||(a[5]=r=>t.update.notification.enabled=r),error:l.value,onShowDoc:f},{default:o(()=>[s(c(u.$t("releases.notification.title")),1)]),_:1},8,["showApiPath","modelValue","error"])]),_:1},8,["error","comment"]),e(d,{error:l.value,comment:u.$t("releases.notification.minimalNotificationTime.help")},{title:o(()=>[e(m,{showApiPath:i.value,apiPathText:"spec.settings.update.notification.minimalNotificationTime",error:l.value},{default:o(()=>[s(c(u.$t("releases.notification.minimalNotificationTime.title")),1)]),_:1},8,["showApiPath","error"])]),content:o(()=>[w("div",ae,[e(T,{class:"release-form__period-input",modelValue:t.update.notification.minimalNotificationTime.hours,"onUpdate:modelValue":a[6]||(a[6]=r=>t.update.notification.minimalNotificationTime.hours=r)},null,8,["modelValue"]),re,e(T,{class:"release-form__period-input",modelValue:t.update.notification.minimalNotificationTime.mins,"onUpdate:modelValue":a[7]||(a[7]=r=>t.update.notification.minimalNotificationTime.mins=r)},null,8,["modelValue"]),le])]),_:1},8,["error","comment"]),e(d,{error:l.value},{title:o(()=>[e(m,{showApiPath:i.value,apiPathText:"spec.settings.update.notification.webhook",error:l.value},{default:o(()=>[s(c(u.$t("releases.notification.webhook.title")),1)]),_:1},8,["showApiPath","error"])]),content:o(()=>[e(y,{placeholder:"http://example.com",modelValue:t.update.notification.webhook,"onUpdate:modelValue":a[8]||(a[8]=r=>t.update.notification.webhook=r),error:l.value},null,8,["modelValue","error"])]),_:1},8,["error"]),e(d,{error:l.value},{title:o(()=>[e(m,{showApiPath:i.value,apiPathText:"spec.settings.update.notification.webhook",error:l.value},{default:o(()=>[s(" Авторизация ")]),_:1},8,["showApiPath","error"])]),content:o(()=>[e(y,{label:"Логин",required:"",placeholder:"Логин",modelValue:t.update.notification.auth.username,"onUpdate:modelValue":a[9]||(a[9]=r=>t.update.notification.auth.username=r),error:l.value},null,8,["modelValue","error"]),e(Z,{label:"Пароль",required:"",placeholder:"Пароль",modelValue:t.update.notification.auth.password,"onUpdate:modelValue":a[10]||(a[10]=r=>t.update.notification.auth.password=r),error:l.value},null,8,["modelValue","error"]),e(_,{options:D,modelValue:t.update.notification.auth.type,"onUpdate:modelValue":a[11]||(a[11]=r=>t.update.notification.auth.type=r)},null,8,["modelValue"])]),_:1},8,["error"]),e(d,{error:l.value},{title:o(()=>[e(m,{showApiPath:i.value,apiPathText:"spec.settings.update.notification.tlsSkipVerify",error:l.value},{default:o(()=>[s(" Пропустить валидацию TLS сертификата при запросе webhook ")]),_:1},8,["showApiPath","error"])]),content:o(()=>[e(_,{options:O,modelValue:t.update.notification.tlsSkipVerify,"onUpdate:modelValue":a[12]||(a[12]=r=>t.update.notification.tlsSkipVerify=r)},null,8,["modelValue"])]),_:1},8,["error"])]),_:1})])]),_:1}))}});const ne=N(M,[["__scopeId","data-v-9569970f"]]);M.__docgenInfo={exportName:"default",displayName:"Form",description:"",tags:{},sourceFiles:["/Users/user/deckhouse-ui/images/frontend/src/pages/releases/form/components/Form.vue"]};const A=S({__name:"Page",setup(p){const n=[{title:"Версии",routeName:"Home",active:!1,marked:!0},{title:"Настройки",routeName:"Home",active:!0}],i=[{title:"Общая информация",route:{name:"Home"},items:[{title:"Ваш формат времени",value:"Europe/Moscow (UTC+03:00)"},{title:"Канал обновлений",value:"Alpha"},{title:"Режим обновлений",value:"Авто"},{title:"Подтверждение опасных изменений",value:"По умолчанию"}]},{title:"Уведомления об обновлениях",route:{name:"Home"},items:[{title:"Оповещение",value:"за 1 час"},{title:"URL",value:"http://acme.com",type:"link"},{title:"Авторизация",value:"Bearer-токен"},{title:"Пропустить валидацию TLS",value:"По умолчанию"}]},{title:"Окна обновлений",route:{name:"Home"},items:[{title:"Пн, Вт, Вс",value:"с 19:00 до 23:00"},{title:"Пн, Чт",value:"с 11:00 до 12:30"}]}],l=V(!0);return z(()=>setTimeout(()=>l.value=!1,1500)),(t,k)=>(P(),U(K,null,{title:o(()=>[s(c(t.$t("releases.releaseChannel.title")),1)]),info:o(()=>[e(W,{params:i,contentLoading:l.value},null,8,["contentLoading"])]),tabs:o(()=>[e(Q,{tabs:n})]),content:o(()=>[e(ne)]),_:1}))}});A.__docgenInfo={exportName:"default",displayName:"Page",description:"",tags:{},sourceFiles:["/Users/user/deckhouse-ui/images/frontend/src/pages/releases/form/Page.vue"]};const De={title:"Deckhouse UI/PageExamples/release/ReleaseFormPage",component:A},ie=p=>({components:{ReleaseFormPage:A},setup(){return{args:p}},template:`
    <ReleaseFormPage v-bind="args" />
  `}),v=ie.bind({});var F,I,b;v.parameters={...v.parameters,docs:{...(F=v.parameters)==null?void 0:F.docs,source:{originalSource:`args => ({
  components: {
    ReleaseFormPage
  },
  setup() {
    return {
      args
    };
  },
  template: /* html */\`
    <ReleaseFormPage v-bind="args" />
  \`
})`,...(b=(I=v.parameters)==null?void 0:I.docs)==null?void 0:b.source}}};const Oe=["Default"];export{v as Default,Oe as __namedExportsOrder,De as default};
//# sourceMappingURL=ReleaseFormPage.stories-10bdee66.js.map
